import axios from"axios";import moment from"moment";window.moment=moment,window.axios=axios,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";import Echo from"laravel-echo";import Pusher from"pusher-js";window.Pusher=Pusher;const baseURL=document.head.querySelector('meta[name="base-url"]').content;window.BASEURL=baseURL,window.initLaravelEcho=async()=>{const localStorageData=localStorage.getItem("echo_option");if(localStorageData){const{option:option,expiration:expiration}=JSON.parse(localStorageData);if(!(expiration&&Date.now()>expiration))return void(window.Echo=new Echo(option));localStorage.removeItem("echo_option")}await axios.get(`${baseURL}/api/v1/get-pusher-config`).then((response=>{const option=response.data.data,expiration=Date.now()+6e4;localStorage.setItem("echo_option",JSON.stringify({option:option,expiration:expiration})),window.Echo=new Echo(option)})).catch((error=>{console.error("Error fetching Echo options:",error)}))},window.initLaravelEcho();