!(function ($) {
    "use strict";
    var bdAdmin = {
        initialize: function () {
            this.navbarClock(),
                this.scrollBar(),
                this.dropdownScrollBar(),
                this.navbarToggler(),
                this.sideBar(),
                this.sidebarCompact(),
                this.materialRipple(),
                this.toTop(),
                this.pageloader();
        },
        navbarClock: function () {
            if ($(".nav-clock")[0]) {
                var a = new Date();
                a.setDate(a.getDate()),
                    setInterval(function () {
                        var a = new Date().getSeconds();
                        $(".time-sec").html((a < 10 ? "0" : "") + a);
                    }, 1e3),
                    setInterval(function () {
                        var a = new Date().getMinutes();
                        $(".time-min").html((a < 10 ? "0" : "") + a);
                    }, 1e3),
                    setInterval(function () {
                        var a = new Date().getHours();
                        $(".time-hours").html((a < 10 ? "0" : "") + a);
                    }, 1e3);
            }
        },
        scrollBar: function () {
            $(".sidebar-body").each(function () {
                new PerfectScrollbar($(this)[0]);
            });
        },
        dropdownScrollBar: function () {
            $(".dropdown-menu-scroll").each(function () {
                new PerfectScrollbar($(this)[0]);
            });
        },
        navbarToggler: function () {
            $(".navbar-collapse .navbar-toggler").on("click", function () {
                $(".navbar-collapse").collapse("hide");
            });
        },
        sideBar: function () {
            $("#sidebarCollapse").on("click", function () {
                $(".sidebar, .navbar").toggleClass("active");
            }),
                $(".overlay").on("click", function () {
                    $(".sidebar").removeClass("active"),
                        $(".overlay").removeClass("active"),
                        $(".sidebar-icon-aside").removeClass("show"),
                        $(".sidebar-icon .nav-link").removeClass("active");
                }),
                $("#sidebarCollapse").on("click", function (e) {
                    e.preventDefault(),
                        window.matchMedia("(max-width: 767px)").matches
                            ? $(".overlay").addClass("active")
                            : $(".overlay").removeClass("active");
                }),
                $(".sidebar .with-sub").on("click", function (e) {
                    e.preventDefault(),
                        $(this).parent().toggleClass("show"),
                        $(this).parent().siblings().removeClass("show");
                });
            var minimizeSidebar = !1,
                miniSidebar = 0;
            function checkPosition(x) {
                if (x.matches) {
                    if (!minimizeSidebar) {
                        var minibutton = $(".sidebar-toggle-icon");
                        $(".sidebar-mini").hasClass("sidebar-collapse") &&
                            ((miniSidebar = 1), minibutton.addClass("toggled")),
                            minibutton.on("click", function () {
                                1 === miniSidebar
                                    ? ($(".sidebar-mini").removeClass(
                                          "sidebar-collapse",
                                      ),
                                      minibutton.removeClass("toggled"),
                                      (miniSidebar = 0))
                                    : ($(".sidebar-mini").addClass(
                                          "sidebar-collapse",
                                      ),
                                      minibutton.addClass("toggled"),
                                      (miniSidebar = 1)),
                                    $(window).resize();
                            }),
                            (minimizeSidebar = !0);
                    }
                    $(".sidebar").hover(
                        function () {
                            $(".sidebar-mini").hasClass("sidebar-collapse") &&
                                $(".sidebar-mini").addClass(
                                    "sidebar-collapse_hover",
                                );
                        },
                        function () {
                            $(".sidebar-mini").hasClass("sidebar-collapse") &&
                                $(".sidebar-mini").removeClass(
                                    "sidebar-collapse_hover",
                                );
                        },
                    );
                }
            }
            var x = window.matchMedia("(min-width: 768px)");
            checkPosition(x), x.addListener(checkPosition);
        },
        sidebarCompact: function () {
            if ($(".sidebar-icon .nav-link.active").length) {
                var targ = $(".sidebar-icon .nav-link.active").attr("href");
                $(targ).addClass("show"),
                    $(".sidebar-icon-aside").addClass("show"),
                    window.matchMedia("(min-width: 992px)").matches &&
                        window.matchMedia("(max-width: 1199px)").matches &&
                        $(".sidebar-icon .nav-link.active").removeClass(
                            "active",
                        );
            }
            $(".sidebar-icon .nav-link").on("click", function (e) {
                e.preventDefault(),
                    $(this).addClass("active"),
                    $(this).siblings().removeClass("active"),
                    $(".sidebar-icon-aside").addClass("show");
                var targ = $(this).attr("href");
                $(targ).addClass("show"),
                    $(targ).siblings().removeClass("show");
            }),
                $(".sidebar-icon-toggle-menu").on("click", function (e) {
                    e.preventDefault(),
                        $(".sidebar-icon .nav-link.active").removeClass(
                            "active",
                        ),
                        $(".sidebar-icon-aside").removeClass("show");
                }),
                $(".compact .sidebar-toggle-icon").on("click", function () {
                    $(".content-wrapper").toggleClass("active");
                }),
                $(".sidebar-icon").each(function () {
                    new PerfectScrollbar($(this)[0]);
                }),
                $(".sidebar-icon-body").each(function () {
                    new PerfectScrollbar($(this)[0]);
                });
        },
        materialRipple: function () {
            $(".material-ripple").on("click", function (event) {
                var surface = $(this);
                0 === surface.find(".material-ink").length &&
                    surface.prepend("<div class='material-ink'></div>");
                var ink = surface.find(".material-ink");
                if (
                    (ink.removeClass("animate"), !ink.height() && !ink.width())
                ) {
                    var diameter = Math.max(
                        surface.outerWidth(),
                        surface.outerHeight(),
                    );
                    ink.css({ height: diameter, width: diameter });
                }
                var xPos =
                        event.pageX - surface.offset().left - ink.width() / 2,
                    yPos =
                        event.pageY - surface.offset().top - ink.height() / 2,
                    rippleColor = surface.data("ripple-color");
                ink.css({
                    top: yPos + "px",
                    left: xPos + "px",
                    background: rippleColor,
                }).addClass("animate");
            });
        },
        toTop: function () {
            $("body").append(
                '<div id="toTop" class="btn-top"><i class="typcn typcn-arrow-up fs-21"></i></div>',
            ),
                $(window).scroll(function () {
                    0 !== $(this).scrollTop()
                        ? $("#toTop").fadeIn()
                        : $("#toTop").fadeOut();
                }),
                $("#toTop").on("click", function () {
                    return $("html, body").animate({ scrollTop: 0 }, 600), !1;
                });
        },
        pageloader: function () {
            setTimeout(function () {
                $(".page-loader-wrapper").fadeOut();
            }, 50);
        },
    };
    $(document).ready(function () {
        bdAdmin.initialize(), $(".metismenu").metisMenu();
    }),
        $(window).on("load", function () {
            bdAdmin.pageloader();
        });
})(jQuery);
